/* Post page layout */
.layout--post .page-with-sidebar {
  display: flex !important;
  margin: 0 auto !important;
  width: 100% !important;
  padding: 0 !important;
  gap: 2rem !important;
  flex-direction: row !important;
}

.layout--post .content-area {
  flex: 1 1 auto !important;
  min-width: 0 !important;
  max-width: calc(100% - 350px) !important;
}

.layout--post .custom-sidebar-wrapper {
  flex: 0 0 300px !important;
  position: relative !important;
  margin-left: 2rem !important;
}

.layout--post .custom-sidebar {
  position: sticky !important;
  top: 2em !important;
  width: 300px !important;
}

/* Home page layout and sidebar */
.layout--home .archive {
  margin-right: 350px !important;  /* Make space for sidebar */
}

.layout--home .sidebar.sticky {
  position: sticky !important;
  top: 2em !important;
  float: left !important;
  width: 300px !important;
  padding-right: 2rem !important;
}

/* Home page content and spacing */
.layout--home .page__content {
  margin-left: 0 !important;
  padding-left: 0 !important;
}

.layout--home .archive__item-title {
  margin-top: 0.5em !important;
}

/* Post sidebar styling */
.post-sidebar { font-size: 0.95rem; }
.post-sidebar h3 { margin-top: 0; }
.post-sidebar .ps-years, .post-sidebar .ps-months, .post-sidebar .ps-posts { list-style: none; margin: 0; padding-left: 0.5rem; }
.post-sidebar details summary { cursor: pointer; }
.post-sidebar .ps-post a { color: inherit; text-decoration: none; }
.post-sidebar .ps-post a:hover { text-decoration: underline; }

/* Responsive: stack on narrow viewports */
@media (max-width: 880px) {
  .layout--post .page-with-sidebar { display: block; }
  .layout--post .custom-sidebar-wrapper { width: auto; }
  .layout--post .custom-sidebar { position: relative; top: auto; margin-left: 0; }
  .layout--home .archive { margin-right: 0 !important; }
  .layout--home .sidebar.sticky { 
    float: none !important;
    width: auto !important;
    margin: 2rem 0 !important;
    padding: 0 !important;
  }
}

