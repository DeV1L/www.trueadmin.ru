/* Common styles for the sidebar */
.custom-sidebar {
  position: sticky !important;
  top: 2em !important;
  width: 300px !important;
}

/* Main container for any page with sidebar */
.page-with-sidebar {
  display: flex !important;
  margin: 0 auto !important;
  width: 100% !important;
  padding: 0 !important;
  gap: 2rem !important;
}

/* Content area common styles */
.content-area {
  flex: 1 1 auto !important;
  min-width: 0 !important;
  max-width: calc(100% - 350px) !important;
}

/* Sidebar wrapper common styles */
.custom-sidebar-wrapper {
  flex: 0 0 300px !important;
  position: relative !important;
}

/* Homepage-specific styles (default layout) */
body:not(.layout--post) .page-with-sidebar {
  flex-direction: row !important; /* Content left, sidebar right */
}

/* Post page specific styles */
.layout--post .page-with-sidebar {
  flex-direction: row !important; /* Content left, sidebar right */
}

.layout--post .custom-sidebar-wrapper {
  margin-left: 2rem !important;
}

/* Sticky sidebar for all pages */
.custom-sidebar {
  position: sticky !important;
  top: 2em !important;
  padding-top: 2em !important;
  width: 300px !important;
}

.post-sidebar { font-size: 0.95rem; }
.post-sidebar h3 { margin-top: 0; }
.post-sidebar .ps-years, .post-sidebar .ps-months, .post-sidebar .ps-posts { list-style: none; margin: 0; padding-left: 0.5rem; }
.post-sidebar details summary { cursor: pointer; }
.post-sidebar .ps-post a { color: inherit; text-decoration: none; }
.post-sidebar .ps-post a:hover { text-decoration: underline; }

/* Responsive: stack on narrow viewports */
@media (max-width: 880px) {
  .page-with-sidebar { display: block; }
  .custom-sidebar-wrapper { width: auto; }
  .custom-sidebar { position: relative; top: auto; margin-left: 0; }
}

/* High-specificity overrides to ensure sidebar sits at the top-right of post pages.
   These use !important to defeat theme rules that may run after this stylesheet. */
.page-with-sidebar {
  display: flex !important;
  gap: 2rem !important;
  align-items: flex-start !important;
}
.page-with-sidebar > .custom-sidebar-wrapper {
  align-self: flex-start !important;
  display: block !important;
}
.page-with-sidebar > .custom-sidebar-wrapper > .custom-sidebar {
  position: sticky !important;
  top: 80px !important;
  margin-top: 0 !important;
  margin-left: 30px !important;
  max-width: 300px !important;
}

