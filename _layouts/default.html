<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>{{ page.title | default: site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/site.css' | relative_url }}">
  </head>
  <body>
    <header class="site-header">
      <div class="header-inner">
        <h1 class="site-title"><a href="{{ site.baseurl | default: '/' }}">{{ site.title }}</a></h1>
        <a class="home-button" href="{{ site.baseurl | default: '/' }}">Home</a>
      </div>
    </header>

    <div class="container">
      <main class="content" role="main">
        {%- if page.date -%}
          <p class="post-date">{{ page.date | date: "%-d %B %Y" }}</p>
          <h2 class="post-title">{{ page.title }}</h2>
        {%- else -%}
          <h2 class="page-title">{{ page.title | default: site.title }}</h2>
        {%- endif -%}

        <article class="post-content">
          {{ content }}
        </article>
      </main>

      <aside class="sidebar" role="complementary">
        <section class="archive">
          <h3>Blog Archive</h3>
          <ul class="years">
            {%- assign posts_by_year = site.posts | group_by_exp: "post", "post.date | date: '%Y'" -%}
            {%- for year in posts_by_year -%}
              <li class="year">
                <details open>
                  <summary>{{ year.name }} ({{ year.items | size }})</summary>
                  <ul>
                    {%- assign sorted = year.items | sort: 'date' | reverse -%}
                    {%- for p in sorted -%}
                      <li><a href="{{ p.url | relative_url }}">{{ p.title }}</a></li>
                    {%- endfor -%}
                  </ul>
                </details>
              </li>
            {%- endfor -%}
          </ul>
        </section>
      </aside>
    </div>

    <footer class="site-footer">
      <div class="footer-inner">
        <p>Hosted on GitHub Pages â€” Theme customized</p>
      </div>
    </footer>
  </body>
</html>
